{
  "anonymous": false,
  "attributes": [
    {
      "name": "Custom Submission Workflow",
      "values": [
        "Saved",
        "Submitted"
      ]
    }
  ],
  "bridgedResources": [
    {
      "model": "Staging DB - CACN",
      "name": "CACN Approvers by Id",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${identity('username')}",
          "name": "id"
        }
      ],
      "qualification": "By User",
      "status": "Active"
    },
    {
      "model": "Person",
      "name": "Users",
      "order": [

      ],
      "parameters": [

      ],
      "qualification": "All",
      "status": "Active"
    }
  ],
  "categorizations": [
    {
      "category": {
        "slug": "testing"
      }
    }
  ],
  "customHeadContent": null,
  "description": "",
  "indexDefinitions": [
    {
      "name": "closedBy",
      "parts": [
        "closedBy"
      ],
      "unique": false
    },
    {
      "name": "createdBy",
      "parts": [
        "createdBy"
      ],
      "unique": false
    },
    {
      "name": "handle",
      "parts": [
        "handle"
      ],
      "unique": false
    },
    {
      "name": "submittedBy",
      "parts": [
        "submittedBy"
      ],
      "unique": false
    },
    {
      "name": "type,coreState,createdBy",
      "parts": [
        "type",
        "coreState",
        "createdBy"
      ],
      "unique": false
    },
    {
      "name": "type,coreState,submittedBy",
      "parts": [
        "type",
        "coreState",
        "submittedBy"
      ],
      "unique": false
    },
    {
      "name": "type,createdBy",
      "parts": [
        "type",
        "createdBy"
      ],
      "unique": false
    },
    {
      "name": "type,submittedBy",
      "parts": [
        "type",
        "submittedBy"
      ],
      "unique": false
    },
    {
      "name": "updatedBy",
      "parts": [
        "updatedBy"
      ],
      "unique": false
    },
    {
      "name": "values[Alternate Display Name]",
      "parts": [
        "values[Alternate Display Name]"
      ],
      "unique": false
    },
    {
      "name": "values[Alternate Email]",
      "parts": [
        "values[Alternate Email]"
      ],
      "unique": false
    },
    {
      "name": "values[Alternate Phone]",
      "parts": [
        "values[Alternate Phone]"
      ],
      "unique": false
    },
    {
      "name": "values[Alternate Username]",
      "parts": [
        "values[Alternate Username]"
      ],
      "unique": false
    },
    {
      "name": "values[Approval Datastore Id]",
      "parts": [
        "values[Approval Datastore Id]"
      ],
      "unique": false
    },
    {
      "name": "values[End]",
      "parts": [
        "values[End]"
      ],
      "unique": false
    },
    {
      "name": "values[Form Name]",
      "parts": [
        "values[Form Name]"
      ],
      "unique": false
    },
    {
      "name": "values[Start]",
      "parts": [
        "values[Start]"
      ],
      "unique": false
    },
    {
      "name": "values[Team]",
      "parts": [
        "values[Team]"
      ],
      "unique": false
    }
  ],
  "integrations": [

  ],
  "name": "Alternate Approver Request",
  "notes": null,
  "pages": [
    {
      "advanceCondition": "false",
      "displayCondition": null,
      "displayPage": "",
      "elements": [
        {
          "type": "section",
          "renderType": null,
          "name": "Alternate Approver Section",
          "title": "Alternate Approver",
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Alternate Approver Container",
              "text": null,
              "visible": true,
              "renderAttributes": {
                "id": "alternatePerson"
              }
            },
            {
              "type": "field",
              "name": "Team",
              "label": "Team",
              "key": "f6",
              "defaultValue": null,
              "defaultResourceName": "",
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": "CACN Approvers by Id",
              "choicesRunIf": null,
              "choices": {
                "label": "Approvers::CACN ${resources('CACN Approvers by Id:CACN')}",
                "value": "Approvers::CACN ${resources('CACN Approvers by Id:CACN')}"
              }
            },
            {
              "type": "field",
              "name": "Form Name",
              "label": "Request Name",
              "key": "f10",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Start",
              "label": "Start",
              "key": "f2",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "date"
            },
            {
              "type": "field",
              "name": "End",
              "label": "End",
              "key": "f3",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "date"
            }
          ]
        },
        {
          "type": "button",
          "label": "Submit",
          "name": "Submit",
          "visible": true,
          "enabled": true,
          "renderType": "custom",
          "renderAttributes": {
          },
          "events": [
            {
              "name": "Custom Submit",
              "type": "Click",
              "action": "Custom",
              "code": "// Submit the page using the Page Submit funtion to ensure fields are valid.\n// If the validation passes the callback in the funtion will run to redirect the user to the catalog.\n// The advanced condition of the page is false which means it will never be submitted in \"Submitted\" state only as a \"Draft\" which allows it to be modified.\nK('form').submitPage(function(){\n    window.location.href = K('form').space().attributes()['Web Server Url'];\n})\n"
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Hidden",
          "title": null,
          "visible": false,
          "omitWhenHidden": false,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "Alternate Username",
              "label": "Alternate Username",
              "key": "f1",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": "Alternate Approver is Required",
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Alternate Display Name",
              "label": "Alternate Display Name",
              "key": "f7",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Alternate Phone",
              "label": "Alternate Phone",
              "key": "f9",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Alternate Email",
              "label": "Alternate Email",
              "key": "f8",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            }
          ]
        }
      ],
      "events": [
        {
          "name": "Load Person Search",
          "type": "Load",
          "action": "Custom",
          "code": "// ***** CONFIGURE *********\nvar load = {\n\t//Form to Load\n  \"formSlug\":\"person-search\", \n  //Container for the form (jQuery syntax)\n  \"container\": '#alternatePerson', \n  //Define values to pass into subform.  Map subform Field to value or K('field') reference.\n\t//NOTE: INCLUDE THESE FIELDS IN SUBFORM, OR PAGE WILL NOT LOAD\n  \"paramsInput\": {\n    \"Display Name\": K('field[Alternate Display Name]').value(),\n    \"Review Mode\": K('form').reviewMode() ? true : \"\",\n    \"Id\": K('field[Alternate Username]').value(),\n    \"Email\": K('field[Alternate Email]').value(),\n    \"Phone\": K('field[Alternate Phone]').value(),\n\t},\n  //Define Fields to set on parent form using watch.  Map subform field to parent form field.\n  \"watchFields\":{\n    \"Id\": \"Alternate Username\",\n    \"Display Name\": \"Alternate Display Name\",\n    \"Email\": \"Alternate Email\",\n    \"Phone\": \"Alternate Phone\",\n  }\n}\n// ***** END CONFIGURE *********\n\n// Turn paramsInput into formatted/encoded urlParams array as that's what's required by the\n// Kinetic App when passing in values\nload.urlParams = [];\n$.each( load.paramsInput, function( key, value ){\n  load.urlParams.push( \"values[\" + encodeURIComponent( key ) + \"]=\" + encodeURIComponent( value ) );\n})\n\n\n// Remove null values from urlParams list\nload.urlParams = load.urlParams.filter(function(val) { return val.split(\"=\")[1]!==\"null\" });\n\n// Load the Subform\nK.load({\n  path: bundle.spaceLocation() + '/'+ K(\"kapp\").slug()+ '/' + load.formSlug + '?' + load.urlParams.join(\"&\"),\n  container: load.container,\n  parent: K('form'),\n  loaded: function(form) {\n    // initialize watch fields definfed in configuration\n\t\t$.each(load.watchFields, function(source, desination){\n\t\t  form.$watch(source, function(newVal,oldVal){\n        K('field['+desination+']').value(newVal);\n      });\n    })\n  }\n});"
        }
      ],
      "name": "Page 1",
      "renderType": "submittable",
      "type": "page"
    },
    {
      "advanceCondition": null,
      "displayCondition": "false",
      "displayPage": null,
      "elements": [
        {
          "type": "field",
          "name": "Approval Datastore Id",
          "label": "Approval Datastore Id",
          "key": "f5",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": true,
          "enabled": true,
          "required": false,
          "requiredMessage": null,
          "omitWhenHidden": null,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {
          },
          "dataType": "string",
          "renderType": "text",
          "rows": 1
        }
      ],
      "events": [

      ],
      "name": "Page 2",
      "renderType": "submittable",
      "type": "page"
    }
  ],
  "securityPolicies": [

  ],
  "slug": "alternate-approver-request",
  "status": "Inactive",
  "submissionLabelExpression": "",
  "type": "Service"
}